{% extends 'base.html.twig' %}

{% block body %}
    <div class="container py-5">
        <h1>Your PC Build</h1>

        {% if build is empty %}
            <p>No build selected.</p>
            <a href="{{ path('app_build') }}" class="btn btn-primary">Create a pc here</a>
        {% else %}
            <table class="table table-striped table-hover align-middle text-center">
                <thead class="table-dark">
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">Component</th>
                    <th scope="col">Product</th>
                    <th scope="col">Price</th>
                </tr>
                </thead>
                <tbody>
                {% for key, product in build %}
                    <tr>
                        <td>
                            <img src="{{ asset('images/' ~ product.category.name ~ '/' ~ product.image ~ '.jpg') }}"
                                 alt="{{ product.name }}"
                                 style="height: 65px;"
                                 class="img-fluid rounded shadow-sm">
                        </td>
                        <td class="fw-semibold text-capitalize">{{ key }}</td>
                        <td>{{ product.name }}</td>
                        <td>${{ product.price }}</td>
                    </tr>
                {% endfor %}

                <tr class="table-light">
                    <td colspan="3" class="text-end fw-bold">Total Price</td>
                    <td class="fw-bold">${{ total }}</td>
                </tr>
                </tbody>
            </table>

            <a class="btn btn-primary" href="{{ path('app_cart_create') }}">Create build</a>
            <a class="btn btn-danger" href="{{ path('app_cart_remove') }}">Remove cart</a>
        {% endif %}
    </div>
{% endblock %}
