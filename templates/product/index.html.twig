{% extends 'base.html.twig' %}

{% block body %}
    <div class="container py-5">
        <h1 class="mb-5 text-center">üõ†Ô∏è Choose your PC Component!</h1>

        <div class="row justify-content-center g-3">
            {% for product in products %}
                <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center">
                    <div class="card border-1" style="width: 17rem; padding: 0.5rem">
                        <img
                                src="{{ asset('images/' ~ product.category.name ~ '/' ~ product.image ~ '.jpg') }}"
                                class="card-img-top"
                                alt="{{ product.name }}"
                                style="width: 100%; height: auto;"
                        >
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text flex-grow-1" style="overflow-wrap: break-word;">
                                {{ product.description|length > 100 ? product.description[:100] ~ '...' : product.description }}
                            </p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="fw-bold fs-5 text-primary">${{ product.price }}</span>
                                <a href="{{ path('add_to_cart', { id: product.id }) }}" class="btn btn-primary btn-sm">
                                    Add to cart
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% else %}
                <p class="text-center text-muted">No products available.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
